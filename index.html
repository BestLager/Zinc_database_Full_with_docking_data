<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Baza ZINC</title>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css">
    <style>
        img {
            max-width: 200px;
            height: auto;
        }
    </style>
</head>
<body>

<h2>Baza ZINC</h2>
<table id="tabela" class="display" style="width:100%">
    <thead>
        <tr>
            <th>Zinc ID</th>
            <th>Wzór molekularny</th>
            <th>Binding energy</th>
            <th>Charge</th>
            <th>2D</th>
            <th>Binding energy AD4</th>
            <th>Standard deviation</th>
        </tr>
    </thead>
</table>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
<script>
$(document).ready(function() {
    Papa.parse("Zinc_database_Full_with_docking_data_updated.csv", {
        download: true,
        header: true,
        delimiter: ";", // kluczowe przy średnikach
        complete: function(results) {
            $('#tabela').DataTable({
                data: results.data,
                columns: [
                    { data: 'zincid', defaultContent: '' },
                    { data: 'molecular_formula', defaultContent: '' },
                    { data: 'binding_energy', defaultContent: '' },
                    { data: 'charge', defaultContent: '' },
                    { 
                        data: '2D',
                        defaultContent: '',
                        render: function(data) {
                            return data ? '<img src="' + data + '" alt="2D obraz">' : '';
                        }
                    },
                    { data: 'binding_energy AD4', defaultContent: '' },
                    { data: 'standard deviation', defaultContent: '' }
                ]
            });
        }
    });
});
</script>
